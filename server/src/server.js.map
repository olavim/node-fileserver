{"version":3,"sources":["../build/constants/filetypeConstants.js","../build/core/dtree.js","../build/server.js"],"names":[],"mappings":"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","file":"server.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = {\n    DIRECTORY: 'directory',\n    OTHER: 'other',\n    getByExtension: function getByExtension(ext) {\n        filetypes.forEach(function (type, index) {\n            type.exts.forEach(function (e, index) {\n                if (e === ext) return type.name;\n            });\n        });\n\n        return this.OTHER;\n    }\n};\n\n\nvar filetypes = [{\n    name: 'javascript',\n    exts: ['js']\n}, {\n    name: 'html',\n    exts: ['html', 'htm']\n}];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (dir, callback) {\n    var files = _fs2.default.readdir(dir, function (err, files) {\n        if (err) {\n            return callback(err);\n        }\n\n        var filedata = [];\n\n        files.forEach(function (file, index) {\n            filedata.push({\n                name: file,\n                type: getFileType(dir, file)\n            });\n        });\n\n        callback(filedata);\n    });\n};\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _filetypeConstants = require('../constants/filetypeConstants');\n\nvar _filetypeConstants2 = _interopRequireDefault(_filetypeConstants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getFileExtension(file) {\n    return file.substr(file.lastIndexOf('.', file) + 1);\n}\n\n// Returns a directory tree object from the provided path.\n\n\nfunction getFileType(dir, file) {\n    var stats = _fs2.default.lstatSync(_path2.default.join(dir, file));\n    if (stats.isDirectory()) {\n        return _filetypeConstants2.default.DIRECTORY;\n    }\n\n    var ext = getFileExtension(file).toLowerCase();\n    return _filetypeConstants2.default.getByExtension(ext);\n}","'use strict';\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _dtree = require('./core/dtree');\n\nvar _dtree2 = _interopRequireDefault(_dtree);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar app = (0, _express2.default)();\n\napp.use('/', function (req, res) {\n    var tree = (0, _dtree2.default)(__dirname + '/../../share/', function (err, data) {\n        if (err) {\n            res.send(JSON.stringify(err));\n        } else {\n            res.send(JSON.stringify(tree));\n        }\n    });\n});\n\napp.listen(3000, function () {\n    console.log(\"Server listening on port: 3000\");\n});"]}